---
layout: statement
codename: lines_man
---

## Επεξήγηση εκφώνησης

Μας δίνεται το μήκος $$A$$ ενός γηπέδου ποδοσφαίρου και η θέση της μπάλας $$Y_i$$ σε κάθε στιγμή $$i = 1, \ldots , M$$. Μας ζητείται να υπολογίσουμε πόσο θα μετακινηθεί ο κάθε επόπτης.

## Λύση

Κάνουμε την εξής βασική παρατήρηση:

**Παρατήρηση:** Ο κάθε επόπτης ακολουθεί την μπάλα όσο είναι στο δικό του μισό, διαφορετικά βρίσκεται στη μέση.

Αυτό μπορούμε να το επιβεβαιώσουμε για τον πρώτο επόπτη κοιτώντας τις δυνατές περιπτώσεις για την μετακίνηση της μπάλας.

<center>
<img alt="Οι 4 περιπτώσεις για τον πρώτο επόπτη" src="/assets/22-pdp-c-lines_man-cases.svg" width="700px">
</center>

Επομένως, η θέση του πρώτου επόπτη τη στιγμή $$i$$ είναι

$$x_1(i) = \min(Y_i, A/2).$$

Συνεπώς, η συνολική μετακίνηση $$L_1$$ του πρώτου επόπτη είναι

$$L_1 = \lvert x_1(1) - x_1(0)\rvert + \lvert x_1(2) - x_1(1)\rvert + \ldots + \lvert x_1(M) - x_1(M-1)\rvert = \sum_{i = 1}^M \lvert x_1(i) - x_1(i-1)\rvert,$$

με την αρχική θέση να είναι $$x_1(0) = A/2$$. Αντίστοιχα, η θέση του δεύτερου επόπτη είναι,

$$x_2(i) = \max(Y_i, A/2),$$

και η συνολική του μετακίνηση $$L_2$$ είναι,

$$L_2 = \lvert x_2(1) - x_2(0)\rvert + \lvert x_2(2) - x_2(1)\rvert + \ldots + \lvert x_2(M) - x_2(M-1)\rvert = \sum_{i = 1}^M \lvert x_2(i) - x_2(i-1)\rvert.$$

με την αρχική θέση να είναι πάλι $$x_2(0) = A/2$$. Ο παρακάτω κώδικας υλοποιεί αυτή τη λύση:

{% include code.md solution_name='lines_man.cc' %}

Ο αλγόριθμος αυτός χρειάζεται $$\mathcal{O}(M)$$ χρόνο και $$\mathcal{O}(1)$$ μνήμη.

**Σημείωση:** Αν γνωρίζουμε τη συνολική μετακίνηση της μπάλας και την συνολική μετακίνηση του πρώτου επόπτη, τότε μπορούμε να υπολογίσουμε τη συνολική μετακίνηση του δεύτερου επόπτη με μία αφαίρεση (δείτε [εδώ](https://github.com/pdp-archive/pdp-archive.github.io/tree/master/_includes/source_code/code/22-PDP/lines_man/lines_man_diff.cc)).
